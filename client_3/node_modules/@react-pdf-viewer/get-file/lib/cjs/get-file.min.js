"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@react-pdf-viewer/core");function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=n(e),r=function(){return o.createElement(t.Icon,{size:16},o.createElement("path",{d:"M11.5 19.5L11.5 5"}),o.createElement("path",{d:"M17 14L11.5 19.5 6 14"}),o.createElement("path",{d:"M17.5.5h5a1,1,0,0,1,1,1v21a1,1,0,0,1-1,1h-5"}),o.createElement("path",{d:"M6.5.5h-5a1,1,0,0,0-1,1v21a1,1,0,0,0,1,1h5"}))},a=function(){return(a=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},c={left:0,top:8},l=function(e){var n=e.onClick,a=o.useContext(t.LocalizationContext),l=a&&a.download?a.download.download:"Download";return o.createElement(t.Tooltip,{position:t.Position.BottomCenter,target:o.createElement(t.MinimalButton,{onClick:n},o.createElement(r,null)),content:function(){return l},offset:c})},i=function(e){var t=e.children,n=e.fileNameGenerator,r=e.store,a=o.useState(r.get("file")),c=a[0],i=a[1],u=function(e){i(e)};o.useEffect((function(){return r.subscribe("file",u),function(){r.unsubscribe("file",u)}}),[]);return(t||function(e){return o.createElement(l,{onClick:e.onClick})})({onClick:function(){var e,t,o,r;c&&(e=c,t=n(c),o="string"==typeof e.data?"":URL.createObjectURL(new Blob([e.data],{type:"application/pdf"})),(r=document.createElement("a")).style.display="none",r.href=o||e.name,r.setAttribute("download",t),document.body.appendChild(r),r.click(),document.body.removeChild(r),o&&URL.revokeObjectURL(o))}})},u=function(e){var n=e.onClick,a=o.useContext(t.LocalizationContext),c=a&&a.download?a.download.download:"Download";return o.createElement(t.MenuItem,{icon:o.createElement(r,null),onClick:n},c)};exports.DownloadIcon=r,exports.getFilePlugin=function(e){var n=o.useMemo((function(){return t.createStore({})}),[]),r=function(e){return"object"==typeof e.data?"document.pdf":(t=e.name,(n=t.split("/").pop())?n.split("#")[0].split("?")[0]:t);var t,n},c=function(t){return o.createElement(i,a({},t,{fileNameGenerator:e&&e.fileNameGenerator||r,store:n}))};return{onViewerStateChange:function(e){return n.update("file",e.file),e},Download:c,DownloadButton:function(){return o.createElement(c,null,(function(e){return o.createElement(l,a({},e))}))},DownloadMenuItem:function(e){return o.createElement(c,null,(function(t){return o.createElement(u,{onClick:function(){t.onClick(),e.onClick()}})}))}}};
