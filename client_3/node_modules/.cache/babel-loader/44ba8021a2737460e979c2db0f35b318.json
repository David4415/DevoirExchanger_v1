{"ast":null,"code":"import _classCallCheck from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import{getCourse,likedContent,viewContent}from'../../../actions';import'./DocGet.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DocGet=/*#__PURE__*/function(_React$Component){_inherits(DocGet,_React$Component);var _super=_createSuper(DocGet);function DocGet(){var _this;_classCallCheck(this,DocGet);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={liked:null};_this.onLikedClicked=function(bool){if(bool){if(_this.state.liked===null){_this.setState({liked:true});_this.props.likedContent(_this.props.courseInfo.id,1,_this.props.courseInfo.creator);_this.props.courseInfo.liked++;}else if(_this.state.liked===false){_this.setState({liked:true});_this.props.likedContent(_this.props.courseInfo.id,2,_this.props.courseInfo.creator);_this.props.courseInfo.liked+=2;}else{_this.setState({liked:null});_this.props.likedContent(_this.props.courseInfo.id,-1,_this.props.courseInfo.creator);_this.props.courseInfo.liked--;}}else{if(_this.state.liked===null){_this.setState({liked:false});_this.props.likedContent(_this.props.courseInfo.id,-1,_this.props.courseInfo.creator);_this.props.courseInfo.liked--;}else if(_this.state.liked===true){_this.setState({liked:false});_this.props.likedContent(_this.props.courseInfo.id,-2,_this.props.courseInfo.creator);_this.props.courseInfo.liked-=2;}else{_this.setState({liked:null});_this.props.likedContent(_this.props.courseInfo.id,1,_this.props.courseInfo.creator);_this.props.courseInfo.liked++;}}};return _this;}_createClass(DocGet,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getCourse(this.props.match.params.id);console.log();this.props.viewContent(this.props.match.params.id,this.props.location.search.slice(9));}},{key:\"render\",value:function render(){var _this2=this;if(!this.props.courseInfo)return null;var dateCreated=this.props.courseInfo.dateCreated;var _ref=[dateCreated.slice(11,19),dateCreated.slice(8,10),dateCreated.slice(5,7),dateCreated.slice(0,4)],time=_ref[0],day=_ref[1],month=_ref[2],year=_ref[3];var DateA=new Date(\"\".concat(year,\"-\").concat(month,\"-\").concat(day)).toDateString();var like_className;switch(this.state.liked){case true:like_className='color_green';break;case false:like_className='color_red';break;case null:like_className='';break;};return/*#__PURE__*/_jsxs(\"div\",{className:\"doc_Body\",style:{backgroundImage:\"url(\\\"\".concat(this.props.courseInfo.image,\"\\\")\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"docget_header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"docget_vote\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"docget_uarr \".concat(this.state.liked?'color_green':''),children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return _this2.onLikedClicked(true);},children:\"\\u2191\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"docget_numOfLike \".concat(like_className),children:this.props.courseInfo.liked}),/*#__PURE__*/_jsx(\"div\",{className:\"docget_darr \".concat(this.state.liked===false?'color_red':''),children:/*#__PURE__*/_jsx(\"p\",{onClick:function onClick(){return _this2.onLikedClicked(false);},children:\"\\u2193\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"docget_title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:this.props.courseInfo.titleDoc}),/*#__PURE__*/_jsx(\"p\",{children:this.props.courseInfo.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"docget_time\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"seagreen\",children:\"\".concat(DateA,\" \\n at \").concat(time)}),/*#__PURE__*/_jsx(\"p\",{className:\"redstone\",children:\"Viewed \".concat(this.props.courseInfo.viewed,\" times\")})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"docget_body\",children:/*#__PURE__*/_jsx(\"embed\",{className:\"iframe_thumb\",src:\"\".concat(this.props.courseInfo.file,\"#toolbar=0&navpanes=0&scrollbar=0&statusbar=0&view=Fit\"),type:\"application/pdf\",height:\"100%\",width:\"80%\"})})]});}}]);return DocGet;}(React.Component);var mapStateToProps=function mapStateToProps(state,ownProps){return{courseInfo:state.cours[\"course_\".concat(ownProps.match.params.id)]};};export default connect(mapStateToProps,{getCourse:getCourse,likedContent:likedContent,viewContent:viewContent})(DocGet);","map":{"version":3,"sources":["/Users/Programmation/Documents/Hubrium v_2/client_3/src/components/Body/Routes/DocGet.js"],"names":["React","connect","getCourse","likedContent","viewContent","DocGet","state","liked","onLikedClicked","bool","setState","props","courseInfo","id","creator","match","params","console","log","location","search","slice","dateCreated","time","day","month","year","DateA","Date","toDateString","like_className","backgroundImage","image","titleDoc","description","viewed","file","Component","mapStateToProps","ownProps","cours"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport {getCourse, likedContent, viewContent} from '../../../actions';\n\nimport './DocGet.scss';\n\nclass DocGet extends React.Component {\n    state = {liked: null}\n\n    componentDidMount() {\n        this.props.getCourse(this.props.match.params.id);\n        console.log();\n        this.props.viewContent(this.props.match.params.id, this.props.location.search.slice(9));\n    }\n\n    onLikedClicked = (bool) => {\n        if (bool) {\n            if (this.state.liked === null) {\n                this.setState({liked:true});\n                this.props.likedContent(this.props.courseInfo.id, 1, this.props.courseInfo.creator);\n                this.props.courseInfo.liked++;\n            } else if (this.state.liked === false) {\n                this.setState({liked:true});\n                this.props.likedContent(this.props.courseInfo.id, 2, this.props.courseInfo.creator);\n                this.props.courseInfo.liked+=2;\n            } else {\n                this.setState({liked:null});\n                this.props.likedContent(this.props.courseInfo.id, -1, this.props.courseInfo.creator);\n                this.props.courseInfo.liked--;\n            }\n\n        } else {\n            if (this.state.liked === null) {\n                this.setState({liked:false});\n                this.props.likedContent(this.props.courseInfo.id, -1, this.props.courseInfo.creator);\n                this.props.courseInfo.liked--;\n            } else if (this.state.liked === true) {\n                this.setState({liked:false});\n                this.props.likedContent(this.props.courseInfo.id, -2, this.props.courseInfo.creator);\n                this.props.courseInfo.liked-=2;\n            } else {\n                this.setState({liked:null});\n                this.props.likedContent(this.props.courseInfo.id, 1, this.props.courseInfo.creator);\n                this.props.courseInfo.liked++;\n            }\n        }\n    }\n\n    render() {\n        if (!this.props.courseInfo) return null;\n\n        const {dateCreated} = this.props.courseInfo;\n        const [time, day, month, year] = [dateCreated.slice(11,19), dateCreated.slice(8,10), dateCreated.slice(5,7), dateCreated.slice(0,4)];\n        const DateA = new Date(`${year}-${month}-${day}`).toDateString();\n        let like_className;\n        switch (this.state.liked) {\n            case true: like_className = 'color_green'; break;\n            case false: like_className = 'color_red'; break;\n            case null: like_className = ''; break;\n        };\n\n        return (\n            <div className=\"doc_Body\" style={{backgroundImage:`url(\"${this.props.courseInfo.image}\")`}}>\n                \n                <div className=\"docget_header\">\n                    <div className=\"docget_vote\">\n                        <div className={`docget_uarr ${this.state.liked ? 'color_green' : '' }`}><p onClick={()=>this.onLikedClicked(true)}>&uarr;</p></div>\n                        <div className={`docget_numOfLike ${like_className}`}>{this.props.courseInfo.liked}</div>\n                        <div className={`docget_darr ${this.state.liked===false ? 'color_red' : '' }`}><p onClick={()=>this.onLikedClicked(false)}>&darr;</p></div>\n                    </div>\n                    <div className=\"docget_title\">\n                        <h2>{this.props.courseInfo.titleDoc}</h2>\n                        <p>{this.props.courseInfo.description}</p>\n                    </div>\n                    <div className=\"docget_time\">\n                        <p className=\"seagreen\">{`${DateA} \\n at ${time}`}</p>\n                        <p className=\"redstone\">{`Viewed ${this.props.courseInfo.viewed} times`}</p>\n                    </div>\n                </div>\n\n                <div className=\"docget_body\">\n                    <embed\n                        className=\"iframe_thumb\"\n                        src={`${this.props.courseInfo.file}#toolbar=0&navpanes=0&scrollbar=0&statusbar=0&view=Fit`}\n                        type=\"application/pdf\"\n                        height=\"100%\"\n                        width=\"80%\"\n                    />\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {  courseInfo: state.cours[`course_${ownProps.match.params.id}`] };\n};\n\nexport default connect(mapStateToProps, {getCourse,likedContent,viewContent})(DocGet);"]},"metadata":{},"sourceType":"module"}