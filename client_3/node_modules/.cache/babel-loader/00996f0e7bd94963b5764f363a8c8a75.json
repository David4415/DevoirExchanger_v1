{"ast":null,"code":"import _classCallCheck from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/Programmation/Documents/Hubrium v_2/client_3/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{connect}from'react-redux';import history from'../history';import{signIn,signOut}from'../actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GoogleAuth=/*#__PURE__*/function(_React$Component){_inherits(GoogleAuth,_React$Component);var _super=_createSuper(GoogleAuth);function GoogleAuth(){var _this;_classCallCheck(this,GoogleAuth);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onAuthChange=function(isSignedIn){if(isSignedIn){_this.props.signIn(_this.auth.currentUser.get().getBasicProfile());}else{_this.props.signOut();}};return _this;}_createClass(GoogleAuth,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;window.gapi.load('client:auth2',function(){window.gapi.client.init({clientId:'542587154619-3njdd7kn733e9le5sm51u9cro586ur2u.apps.googleusercontent.com',scope:'email'}).then(function(){_this2.auth=window.gapi.auth2.getAuthInstance();_this2.onAuthChange(_this2.auth.isSignedIn.get());_this2.auth.isSignedIn.listen(_this2.onAuthChange);});});}},{key:\"onSignInClick\",value:function onSignInClick(){this.auth.signIn();}},{key:\"renderAuthButton\",value:function renderAuthButton(){var _this3=this;if(this.props.isSignedIn===null){return null;}else if(this.props.isSignedIn){return/*#__PURE__*/_jsx(\"button\",{children:\"GoogleAuth\"});}else{return/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return _this3.onSignInClick();},className:\"ui \".concat(this.props.buttonColor,\" google button\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"google icon\"}),this.props.text]});}}},{key:\"onSignOutClick\",value:function onSignOutClick(){this.auth.signOut();}},{key:\"renderSignOutButton\",value:function renderSignOutButton(){var _this4=this;return/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return _this4.onSignOutClick();},className:\"ui black google button\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"google icon\"}),\"Sign Out\"]});}},{key:\"render\",value:function render(){if(this.props.signOutBut)return/*#__PURE__*/_jsx(\"div\",{children:this.renderSignOutButton()});else if(this.props.displayButton)return/*#__PURE__*/_jsx(\"div\",{children:this.renderAuthButton()});else return/*#__PURE__*/_jsx(\"div\",{});}}]);return GoogleAuth;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{isSignedIn:state.auth.isSignedIn};};export default connect(mapStateToProps,{signIn:signIn,signOut:signOut})(GoogleAuth);//mapStateToProps","map":{"version":3,"sources":["/Users/Programmation/Documents/Hubrium v_2/client_3/src/components/GoogleAuth.js"],"names":["React","connect","history","signIn","signOut","GoogleAuth","onAuthChange","isSignedIn","props","auth","currentUser","get","getBasicProfile","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","onSignInClick","buttonColor","text","onSignOutClick","signOutBut","renderSignOutButton","displayButton","renderAuthButton","Component","mapStateToProps","state"],"mappings":"wpBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,OAASC,MAAT,CAAiBC,OAAjB,KAAgC,YAAhC,C,2FAEMC,CAAAA,U,uVAeFC,Y,CAAe,SAAAC,UAAU,CAAG,CACxB,GAAIA,UAAJ,CAAgB,CACZ,MAAKC,KAAL,CAAWL,MAAX,CAAkB,MAAKM,IAAL,CAAUC,WAAV,CAAsBC,GAAtB,GAA4BC,eAA5B,EAAlB,EACH,CAFD,IAEO,CACH,MAAKJ,KAAL,CAAWJ,OAAX,GACH,CACJ,C,uEApBD,4BAAoB,iBAChBS,MAAM,CAACC,IAAP,CAAYC,IAAZ,CAAiB,cAAjB,CAAiC,UAAM,CACnCF,MAAM,CAACC,IAAP,CAAYE,MAAZ,CAAmBC,IAAnB,CAAwB,CACpBC,QAAQ,CAAE,0EADU,CAEpBC,KAAK,CAAE,OAFa,CAAxB,EAGGC,IAHH,CAGQ,UAAM,CACV,MAAI,CAACX,IAAL,CAAYI,MAAM,CAACC,IAAP,CAAYO,KAAZ,CAAkBC,eAAlB,EAAZ,CAEA,MAAI,CAAChB,YAAL,CAAkB,MAAI,CAACG,IAAL,CAAUF,UAAV,CAAqBI,GAArB,EAAlB,EACA,MAAI,CAACF,IAAL,CAAUF,UAAV,CAAqBgB,MAArB,CAA4B,MAAI,CAACjB,YAAjC,EACH,CARD,EASH,CAVD,EAWH,C,6BAUD,wBAAgB,CACZ,KAAKG,IAAL,CAAUN,MAAV,GACH,C,gCAED,2BAAmB,iBACf,GAAI,KAAKK,KAAL,CAAWD,UAAX,GAA0B,IAA9B,CAAoC,CAChC,MAAO,KAAP,CACH,CAFD,IAEO,IAAI,KAAKC,KAAL,CAAWD,UAAf,CAA2B,CAC9B,mBAAO,sCAAP,CACH,CAFM,IAEA,CACH,mBACI,gBAAQ,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACiB,aAAL,EAAN,EAAjB,CAA6C,SAAS,cAAQ,KAAKhB,KAAL,CAAWiB,WAAnB,kBAAtD,wBACI,UAAG,SAAS,CAAC,aAAb,EADJ,CAEK,KAAKjB,KAAL,CAAWkB,IAFhB,GADJ,CAMH,CACJ,C,8BAED,yBAAiB,CACb,KAAKjB,IAAL,CAAUL,OAAV,GACH,C,mCAED,8BAAsB,iBAClB,mBACI,gBAAQ,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACuB,cAAL,EAAN,EAAjB,CAA8C,SAAS,yBAAvD,wBACI,UAAG,SAAS,CAAC,aAAb,EADJ,cADJ,CAMH,C,sBAED,iBAAS,CACL,GAAI,KAAKnB,KAAL,CAAWoB,UAAf,CAA2B,mBAAO,qBAAM,KAAKC,mBAAL,EAAN,EAAP,CAA3B,IACK,IAAI,KAAKrB,KAAL,CAAWsB,aAAf,CAA8B,mBAAO,qBAAM,KAAKC,gBAAL,EAAN,EAAP,CAA9B,IACA,oBAAO,cAAP,CACR,C,wBA3DoB/B,KAAK,CAACgC,S,EA8D/B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAW,CAC/B,MAAO,CAAE3B,UAAU,CAAE2B,KAAK,CAACzB,IAAN,CAAWF,UAAzB,CAAP,CACH,CAFD,CAIA,cAAeN,CAAAA,OAAO,CAACgC,eAAD,CAAkB,CAAE9B,MAAM,CAANA,MAAF,CAAUC,OAAO,CAAPA,OAAV,CAAlB,CAAP,CAA8CC,UAA9C,CAAf,CACA","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport history from '../history';\nimport { signIn, signOut } from '../actions';\n\nclass GoogleAuth extends React.Component {\n    componentDidMount() {\n        window.gapi.load('client:auth2', () => {\n            window.gapi.client.init({\n                clientId: '542587154619-3njdd7kn733e9le5sm51u9cro586ur2u.apps.googleusercontent.com',\n                scope: 'email'\n            }).then(() => {\n                this.auth = window.gapi.auth2.getAuthInstance();\n                \n                this.onAuthChange(this.auth.isSignedIn.get());\n                this.auth.isSignedIn.listen(this.onAuthChange);\n            });\n        });\n    }\n\n    onAuthChange = isSignedIn =>{\n        if (isSignedIn) {\n            this.props.signIn(this.auth.currentUser.get().getBasicProfile ());\n        } else {\n            this.props.signOut();\n        }\n    }\n\n    onSignInClick() {\n        this.auth.signIn();\n    }\n\n    renderAuthButton() {\n        if (this.props.isSignedIn === null) {\n            return null;\n        } else if (this.props.isSignedIn) {\n            return <button>GoogleAuth</button>;\n        } else {\n            return (\n                <button onClick={() => this.onSignInClick()} className={`ui ${this.props.buttonColor} google button`}>\n                    <i className=\"google icon\" />\n                    {this.props.text}\n                </button>\n            );\n        }\n    }\n\n    onSignOutClick() {\n        this.auth.signOut();\n    }\n\n    renderSignOutButton() {\n        return (\n            <button onClick={() => this.onSignOutClick()} className={`ui black google button`}>\n                <i className=\"google icon\" />\n                Sign Out\n            </button>\n        )\n    }\n\n    render() {\n        if (this.props.signOutBut) return <div>{this.renderSignOutButton()}</div>\n        else if (this.props.displayButton) return <div>{this.renderAuthButton()}</div>;\n        else return <div></div>;\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return { isSignedIn: state.auth.isSignedIn }\n};\n\nexport default connect(mapStateToProps, { signIn, signOut })(GoogleAuth);\n//mapStateToProps"]},"metadata":{},"sourceType":"module"}